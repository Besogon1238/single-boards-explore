## Работа с логическими анализаторами

В процессе работы с разными "железками" для аналитики и понимания того, что происходит на физическом уровне бывает полезно использовать различные приборы для измерения сигналов. Самым точным таким инструментом несомненно является осциллограф. Но в ситуациях, когда серьезной точности измерений не требуется, требуется декодировать сигнал или важна длительная запись измерений хорошим решением может стать **логический анализатор**. **Логический анализатор** — это мощный инструмент для программиста одноплатных компьютеров, который может пригодиться в сценариях отладки цифровых протоколов, анализа временных характеристик и обнаружении аппаратных проблем.

В свое время мне доводилось использовать достаточно дорогой логический анализатор от компании с непроизносимым названием **saleae**. Но у их продукции и софта существуют и аналоги, и даже ОЧЕНЬ дешевые аналоги.

В дистрибутивах Альта существуют пакеты [sigrok](https://packages.altlinux.org/en/sisyphus/srpms/sigrok-cli/) и [pulseview](https://packages.altlinux.org/en/sisyphus/srpms/pulseview/).

*Sigrok* — проект, который был создан с целью предоставить возможность использования различных средств для анализа сигналов. В свою очередь *Pulseview* — графический интерфейс, позволяющий удобно осуществлять конфигурацию и визуализацию данных с устройства.

Приведу пример элементарного использования [дешевого логического анализатора](https://www.ozon.ru/product/logicheskiy-analizator-tsifrovyh-signalov-na-8-kanalov-usb-arm-fpga-u-631061160/) в связке с PulseView.

Установим необходимые пакеты

```
# apt-get install sigrok-cli sigrok-firmware-fx2lafw pulseview
```

Элементарной задачей, в которой мог бы быть использован логический анализатор может быть задачка измерения цифрового сигнала на пине платы. Так например, известно что на определенном пине гребенки платы Arduino должен формироваться сигнал с длиной импульса 10мс, зажигающий определенный светодиод, соединенный с пином. 


![Цифровой анализатор и плата](/pictures/Цировой%20анализатор%20и%20плата.jpg)

Проверить, действительно ли длина импульса составляет 10 мс несложно: соединяем вывод земли(GND) на цифровом анализаторе с соответствующим пином земли на гребенке, а любой свободный пин анализтора(CH1-CH8) с интересующим нас пином на "гребенке".


Далее, необходимо запустить PulseView, и для рассматриваемого анализатора выбрать следующую конфигурацию в окне выбора девайса для анализа сигналов.

![Настройка PulseView](/pictures/Настройка%20PulseView.png)


Результатом использования связки PulseView с цифровым анализатором будет график колебаний на определенных каналах анализатора, который можно анализировать. На данной картинке можно видеть, что длина испульса исследуемого сигнала составляет 10мс.


![Демо PulseView](/pictures/Демо%20PulseView.png)


